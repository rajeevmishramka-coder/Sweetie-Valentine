<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>For Sweetie ‚ù§Ô∏è</title>

<style>
/* ================= BASE ================= */
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:linear-gradient(135deg,#ff758c,#ff7eb3);
    overflow:hidden;
    text-align:center;
    color:white;
}

.hidden{ display:none; }

/* ================= LOADING ================= */
#loading{
    position:fixed;
    inset:0;
    background:black;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:28px;
    z-index:10;
}

/* ================= CONTENT ================= */
.container{
    margin-top:120px;
}

#buttons{
    position:relative;
    height:140px;
    width:100%;
    max-width:400px;
    margin:40px auto;
}

button{
    padding:14px 32px;
    font-size:18px;
    border:none;
    border-radius:14px;
    cursor:pointer;
    position:absolute;
    transition:0.15s;
}

#yesBtn{
    background:#ff2e63;
    color:white;
    left:20%;
}

#noBtn{
    background:#ddd;
    color:black;
    left:55%;
    top:0;
}

/* ================= HEARTS ================= */
.heart{
    position:fixed;
    bottom:-20px;
    animation:float 6s linear forwards;
    pointer-events:none;
}

@keyframes float{
    to{
        transform:translateY(-110vh);
        opacity:0;
    }
}

/* ================= CONFETTI ================= */
.confetti{
    position:fixed;
    top:-20px;
    animation:fall linear forwards;
}

@keyframes fall{
    to{ transform:translateY(110vh); }
}
</style>
</head>

<body>

<!-- MUSIC -->
<audio id="bgMusic" loop>
    <source src="https://www.bensound.com/bensound-music/bensound-romantic.mp3" type="audio/mp3">
</audio>

<!-- LOADING -->
<div id="loading">Scanning Sweetie‚Äôs Heart ‚ù§Ô∏è</div>

<!-- MAIN -->
<div class="container hidden" id="main">
    <h1 id="question"></h1>
    <h3 id="countdown"></h3>

    <div id="buttons">
        <button id="yesBtn">Yes üòç</button>
        <button id="noBtn">No üôÉ</button>
    </div>
</div>

<script>
/* ================= CONFIG ================= */
const girlName = "Sweetie";

/* ================= INIT ================= */
document.getElementById("question").innerText =
`Hey ${girlName}, Will You Be My Valentine? ‚ù§Ô∏è`;

setTimeout(() => {
    document.getElementById("loading").remove();
    document.getElementById("main").classList.remove("hidden");
    playMusicSafely();
}, 2200);

/* ================= MUSIC ================= */
function playMusicSafely(){
    const music = document.getElementById("bgMusic");
    music.play().catch(() => {
        document.body.addEventListener("click", () => music.play(), { once:true });
    });
}

/* ================= HEARTS ================= */
function spawnHeart(){
    const h = document.createElement("div");
    h.className = "heart";
    h.textContent = "‚ù§Ô∏è";
    h.style.left = Math.random() * 100 + "vw";
    h.style.fontSize = 12 + Math.random()*24 + "px";
    h.style.animationDuration = 4 + Math.random()*4 + "s";
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 8000);
}
setInterval(spawnHeart, 300);

/* ================= COUNTDOWN ================= */
function nextValentine(){
    const now = new Date();
    let y = now.getFullYear();
    let v = new Date(`Feb 14 ${y}`);
    if(now > v) y++;
    return new Date(`Feb 14 ${y} 00:00:00`).getTime();
}
const valentineTime = nextValentine();

function updateCountdown(){
    const gap = valentineTime - Date.now();
    const d = Math.floor(gap / 86400000);
    const h = Math.floor((gap % 86400000) / 3600000);
    const m = Math.floor((gap % 3600000) / 60000);
    document.getElementById("countdown").innerText =
    `Valentine arrives in ${d}d ${h}h ${m}m`;
}
setInterval(updateCountdown, 1000);
updateCountdown();

/* ================= NO BUTTON RUN ================= */
const noBtn = document.getElementById("noBtn");
const area = document.getElementById("buttons");

function moveNo(){
    const r = area.getBoundingClientRect();
    const maxX = r.width - noBtn.offsetWidth;
    const maxY = r.height - noBtn.offsetHeight;

    noBtn.style.left = Math.random()*maxX + "px";
    noBtn.style.top  = Math.random()*maxY + "px";
}
noBtn.addEventListener("mouseover", moveNo);
noBtn.addEventListener("touchstart", moveNo);

/* ================= YES ACTION ================= */
document.getElementById("yesBtn").onclick = () => {
    document.getElementById("main").innerHTML = `
        <h1>You Just Made Me The Happiest Human ‚ù§Ô∏è</h1>
        <img src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif" width="260">
    `;
    confetti();
    setTimeout(() => {
        window.location.href = "https://wa.me/?text=I%20said%20YES%20‚ù§Ô∏è";
    }, 3500);
};

/* ================= CONFETTI ================= */
function confetti(){
    for(let i=0;i<120;i++){
        const c = document.createElement("div");
        c.className = "confetti";
        c.textContent = ["üéâ","‚ù§Ô∏è","‚ú®"][Math.floor(Math.random()*3)];
        c.style.left = Math.random()*100 + "vw";
        c.style.fontSize = 14 + Math.random()*18 + "px";
        c.style.animationDuration = 2 + Math.random()*3 + "s";
        document.body.appendChild(c);
        setTimeout(() => c.remove(), 5000);
    }
}
</script>

</body>
</html>
